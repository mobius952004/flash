ðŸ“¦ root/
â”‚
â”œâ”€â”€ app.js                         # Express app setup
â”œâ”€â”€ server.js                      # HTTP + WebSocket + DB connect
â”œâ”€â”€ package.json
â”œâ”€â”€ .env                           # Env variables
â”‚
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ db.js                      # Mongoose connection
â”‚   â””â”€â”€ session.js                # Session store (optional)
â”‚
â”œâ”€â”€ constants/
â”‚   â””â”€â”€ index.js                   # App-wide constants (roles, status, socket events)
â”‚
â”œâ”€â”€ middleware/
â”‚   â”œâ”€â”€ auth.middleware.js         # JWT/Session auth check
â”‚   â”œâ”€â”€ error.middleware.js        # Error formatter
â”‚   â””â”€â”€ validate.middleware.js     # Zod/Yup validation handler
â”‚
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ auth.controller.js
â”‚   â”‚   â”œâ”€â”€ auth.routes.js
â”‚   â”‚   â”œâ”€â”€ auth.service.js
â”‚   â”‚   â”œâ”€â”€ auth.dto.js
â”‚   â”‚   â””â”€â”€ auth.constants.js
â”‚   â”‚
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ user.controller.js
â”‚   â”‚   â”œâ”€â”€ user.routes.js
â”‚   â”‚   â”œâ”€â”€ user.service.js
â”‚   â”‚   â”œâ”€â”€ user.model.js
â”‚   â”‚   â””â”€â”€ user.dto.js
â”‚   â”‚
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ chat.controller.js
â”‚   â”‚   â”œâ”€â”€ chat.routes.js
â”‚   â”‚   â”œâ”€â”€ chat.service.js
â”‚   â”‚   â”œâ”€â”€ chat.model.js
â”‚   â”‚   â””â”€â”€ chat.dto.js
â”‚   â”‚
â”‚   â”œâ”€â”€ message/
â”‚   â”‚   â”œâ”€â”€ message.controller.js
â”‚   â”‚   â”œâ”€â”€ message.routes.js
â”‚   â”‚   â”œâ”€â”€ message.service.js
â”‚   â”‚   â”œâ”€â”€ message.model.js
â”‚   â”‚   â””â”€â”€ message.dto.js
â”‚   â”‚
â”‚   â”œâ”€â”€ call/
â”‚   â”‚   â”œâ”€â”€ call.controller.js     # Call logs, statuses
â”‚   â”‚   â”œâ”€â”€ call.routes.js         # Optional REST endpoints
â”‚   â”‚   â”œâ”€â”€ call.service.js
â”‚   â”‚   â”œâ”€â”€ call.model.js
â”‚   â”‚   â””â”€â”€ call.dto.js
â”‚
â”œâ”€â”€ sockets/
â”‚   â”œâ”€â”€ index.js                   # Registers all socket handlers
â”‚   â”œâ”€â”€ chat.socket.js             # Messaging logic
â”‚   â””â”€â”€ call.socket.js             # WebRTC signaling (offer, answer, ICE, end)
â”‚
â”œâ”€â”€ shared/
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ hash.util.js           # Bcrypt hashing
â”‚   â”‚   â”œâ”€â”€ jwt.util.js            # Sign/verify tokens
â”‚   â”‚   â””â”€â”€ logger.js              # Custom logger
â”‚   â””â”€â”€ dto/
â”‚       â””â”€â”€ base.dto.js            # Common DTO schema helpers


|